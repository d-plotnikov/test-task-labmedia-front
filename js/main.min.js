"use strict";var api="https://5ebbb8e5f2cfeb001697d05c.mockapi.io/users";fetch(api).then(function(t){if(t.ok)return t.json();alert("Что то пошло не так :(")}).then(function(t){userData=t});
"use strict";function deleteUser(r){var a;document.querySelectorAll(".js-delete-item").forEach(function(e,t){e.addEventListener("click",function(){a=e.getAttribute("data-attr"),modal.classList.add("modal_active")})}),modalBtn.forEach(function(e,t){e.addEventListener("click",function(){1==t?modal.classList.remove("modal_active"):(modal.classList.remove("modal_active"),r=r.filter(function(e){return e.id!=a}),userData=r,userSearch=userSearch.filter(function(e){return e.id!=a}),rerenderApp(r))})})}
"use strict";var userData,userList,userSearch,searchInput=document.querySelector(".js-search-input"),searchResetBtn=document.querySelector(".js-search-reset-btn"),sortableBtnDate=document.querySelector(".js-sortable-btn-date"),sortableBtnRating=document.querySelector(".js-sortable-btn-rating"),modal=document.querySelector(".js-modal"),modalBtn=document.querySelectorAll(".js-modal-btn"),template=document.querySelector("#template").content.querySelector("tr"),element=document.querySelector(".js-users"),pageCounter=document.querySelector("#template2").content.querySelector("li"),pagination=document.querySelector(".js-pagination"),perPage=5,keyUser=0,countPage=0;setTimeout(function(){userSearch=userData,rerenderApp(userData)},700);
"use strict";function paginateRender(e){userList=e,countPage=Math.ceil(userList.length/5);var n,t,a=document.createDocumentFragment();pagination.innerHTML="";for(var r=1;r<countPage+1;r++)a.appendChild((n=r,t=void 0,(t=pageCounter.cloneNode(!0)).querySelector(".js-page-number").textContent=n,t));pagination.appendChild(a),clickPagination()}function clickPagination(){document.querySelectorAll(".js-page-number").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var n=e.target.innerHTML;e.target.classList.contains("js-page-number")&&(1==n?(keyUser=0,perPage=5):(perPage=5*n,keyUser=5*(n-1)),rerenderApp(userData))})})}
"use strict";function renderUserList(e){userList=e.slice(keyUser,perPage);var i=document.createDocumentFragment();element.innerHTML="",userList.forEach(function(e,t){var r,n,s,a;i.appendChild((r=t,n=userList,s=template.cloneNode(!0),a=n[r].registration_date.split("T")[0],s.querySelector(".js-delete-item").setAttribute("data-attr",n[r].id),s.querySelector(".js-username").textContent=n[r].username,s.querySelector(".js-email").textContent=n[r].email,s.querySelector(".js-date").textContent=a,s.querySelector(".js-rating").textContent=n[r].rating,s))}),element.appendChild(i)}
"use strict";function rerenderApp(e){renderUserList(e),paginateRender(e),deleteUser(e)}
"use strict";function getOptions(s){return userSearch.filter(function(e){var t=new RegExp(s,"gi");return e.username.match(t)})}function displayOptions(e){""!=e&&searchResetBtn.classList.add("search__reset-button_active"),userData=getOptions(e),rerenderApp(userData)}searchInput.addEventListener("keyup",function(){keyUser=0,perPage=5,displayOptions(searchInput.value)}),searchResetBtn.addEventListener("click",function(e){e.preventDefault(),searchInput.value="",displayOptions(searchInput.value),rerenderApp(userData),searchResetBtn.classList.remove("search__reset-button_active")});
"use strict";function numberFormat(t){return t=Number(t.split("T")[0].split("-").join(""))}sortableBtnDate.addEventListener("click",function(){sortableBtnDate.classList.add("sortable__button_active"),sortableBtnRating.classList.remove("sortable__button_active"),searchResetBtn.classList.add("search__reset-button_active"),sortableBtnDate.classList.contains("active")?userData=userData.sort(function(t,a){if(numberFormat(t.registration_date)<numberFormat(a.registration_date))return-1}):userData=userData.sort(function(t,a){if(numberFormat(t.registration_date)>numberFormat(a.registration_date))return-1}),sortableBtnDate.classList.toggle("active"),rerenderApp(userData)}),sortableBtnRating.addEventListener("click",function(){sortableBtnRating.classList.add("sortable__button_active"),sortableBtnDate.classList.remove("sortable__button_active"),searchResetBtn.classList.add("search__reset-button_active"),sortableBtnDate.classList.contains("active")?userData=userData.sort(function(t,a){if(t.rating<a.rating)return-1}):userData=userData.sort(function(t,a){if(t.rating>a.rating)return-1}),sortableBtnDate.classList.toggle("active"),rerenderApp(userData)});
//# sourceMappingURL=main.min.js.map
